"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9743],{49743:function(e,n,t){t.r(n);var o=t(29439),r=t(72791),s=t(78983),c=t(16143),a=t(1645),l=t(57689),i=t(80184);n.default=function(){var e=(0,r.useContext)(a.Z).userID,n=(0,l.s0)(),t=(0,r.useState)(""),u=(0,o.Z)(t,2),h=u[0],d=u[1],x=(0,r.useState)(""),j=(0,o.Z)(x,2),f=j[0],g=j[1],m=(0,r.useState)(!1),S=(0,o.Z)(m,2),b=S[0],C=S[1],p=(0,r.useState)([]),N=(0,o.Z)(p,2),k=N[0],y=N[1],_=(0,r.useState)(!1),v=(0,o.Z)(_,2),w=v[0],D=v[1],T=(0,r.useState)(""),Z=(0,o.Z)(T,2),O=(Z[0],Z[1],(0,r.useState)("")),L=(0,o.Z)(O,2),Y=(L[0],L[1],function(n,t){var o={location:t,storageName:n};console.log(o),fetch("http://localhost:7070/storage/deleteaws/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){e.ok?console.log("Storage deleted successfully"):console.log("Failed to delete storage")})).catch((function(e){console.error(e)}))});return(0,r.useEffect)((function(){fetch("http://localhost:7070/storage/getlistaws/".concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch storage list")})).then((function(e){y(e)})).catch((function(e){console.error(e)}))}),[e]),(0,i.jsxs)(s.rb,{children:[(0,i.jsx)(s.b7,{xs:12,children:(0,i.jsxs)(s.xH,{className:"mb-4",children:[(0,i.jsx)(s.bn,{children:(0,i.jsx)("strong",{children:"Create Storage"})}),(0,i.jsx)(s.sl,{children:(0,i.jsxs)(c.q3,{href:"forms/input-group",children:[(0,i.jsx)(s.YR,{className:"mb-3",children:(0,i.jsx)(s.jO,{placeholder:"Storage Name","aria-label":"Storage Name",value:h,onChange:function(e){return d(e.target.value)}})}),(0,i.jsx)(s.YR,{className:"mb-3",children:(0,i.jsx)(s.jO,{placeholder:"Storage Location","aria-label":"Storage Location",value:f,onChange:function(e){return g(e.target.value)}})}),(0,i.jsx)(s.u5,{onClick:function(){var n={storageName:h,location:f};fetch("http://localhost:7070/storage/createaws/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return C(!b),e.json();throw new Error("Failed to create storage")})).then((function(e){console.log("Storage created:",e)})).catch((function(e){console.error(e)}))},children:"Create"}),(0,i.jsxs)(s.Tk,{visible:b,onClose:function(){return C(!1)},children:[(0,i.jsx)(s.p0,{onClose:function(){return C(!1)},children:(0,i.jsx)(s.fl,{children:"Successfully"})}),(0,i.jsx)(s.sD,{children:"Database Successfully Created !"}),(0,i.jsx)(s.Ym,{children:(0,i.jsx)(s.u5,{color:"secondary",onClick:function(){C(!1),n("/base/navs")},children:"Go AWS Database List"})})]})]})})]})}),(0,i.jsx)(s.b7,{xs:12,children:(0,i.jsxs)(s.xH,{className:"mb-4",children:[(0,i.jsx)(s.bn,{children:(0,i.jsx)("strong",{children:"Storage List"})}),(0,i.jsx)(s.sl,{children:(0,i.jsxs)(s.Sx,{children:[(0,i.jsx)(s.V,{children:(0,i.jsxs)(s.T6,{children:[(0,i.jsx)(s.is,{children:"Creation Date"}),(0,i.jsx)(s.is,{children:"Name"}),(0,i.jsx)(s.is,{className:"text-end",children:"Action"})]})}),(0,i.jsx)("tbody",{children:k.map((function(e,n){return(0,i.jsxs)(s.T6,{children:[(0,i.jsx)(s.NN,{children:e.CreationDate}),(0,i.jsx)(s.NN,{children:e.Name}),(0,i.jsxs)(s.NN,{className:"text-end",children:[(0,i.jsx)(s.u5,{color:"danger",onClick:function(){D(!0)},children:"Delete"}),(0,i.jsxs)(s.Tk,{visible:w,onClose:function(){return D(!1)},children:[(0,i.jsx)(s.p0,{onClose:function(){return D(!1)},children:(0,i.jsx)(s.fl,{children:"Warning"})}),(0,i.jsx)(s.sD,{children:"Do you want to delete your database?"}),(0,i.jsxs)(s.Ym,{children:[(0,i.jsx)(s.u5,{color:"danger",onClick:function(){return Y(e.Name,e.Location)},children:"Delete"}),(0,i.jsx)(s.u5,{color:"secondary",onClick:function(){return D(!1)},children:"Cancel"})]})]})]})]},n)}))})]})})]})})]})}}}]);
//# sourceMappingURL=9743.34dec517.chunk.js.map